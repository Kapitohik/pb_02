# Объектно-ориентированное программирование

### Работа с контейнерами

>  Внимание! Исходные тексты программ могут содержать любое количество ошибок, их поиск и исправление составляют часть упражнения.

## Краткие теоретические сведения

**Предикаты**, применяемые к элементам контейнера, позволяют обнаружить элементы с заданными (предикатом) свойствами.
Типовое применение: перебор элементов контейнера, для std::vector --- по индексу элемента и применение предиката к каждому элементу.

Контейнеры могут быть результатом, возвращаемым функцией.
Пример --- отбор из перечня студентов тех, чьи имена (фамилии) начинаются на букву 'А'.

Чтобы без необходимости не увеличивать объем используемой программой памяти отбираемые элементы могут (а зачастую --- должны) удаляться из исходного контейнера.
Удаление элементов выполняется методом (функцией-членом) `erase`.
Параметром `erase` должен быть **итератор** --- особый объект, указывающий на элемент контейнера.

Итератор на элемент может быть получен с использованием индекса элемента в векторе, как результат сложения: `cont.begin() + i`, где `cont.begin()` --- итератор, указывающий на первый элемент контейнера, а `i` --- индекс текущего элемента.

Итератор `cont.begin()` уже использовался в программе в качестве одного из параметров функции `sort()` стандартной библиотеки.

## Задание

1. Добавить к модулю student_info функцию печати итоговой оценки студента с параметрами `std::string` --- имя студента, `std::size_t` --- ширина колонки для имени и `double` --- итоговая оценка.
В качестве основы использовать фрагменты кода, находящиеся в функции main.

2. Добаваить к модулю student_info функцию печати сообщения об ошибке вычисления итоговой оценки студента с параметрами `std::string` --- имя студента, `std::size_t` --- ширина колонки для имени и `const char *` --- сообщение об ошибке.
В качестве основы использовать ранее написанную функцию печати итоговой оценки и фрагменты кода, находящиеся в функции `main`.

3. Добавить к модулю student_info функцию печтати имени студента с параметром `std::string` --- имя студента.

4. Экспортировать созданные функции из модуля `student_info`.

5. Переписать функцию `main` с использованием вновь созданных функций печати.
Создать коммит как первую контрольную точку лабораторной работы.

6. Добавить к модулю grade функцию-предикат `f_grade`, возвращающий `true` для студентов с итоговой оценкой меньше 6.0.

7. Добавить к модулю student_info функцию `extract_fails`, которая извлекает из исходного перечня (вектора) записи студентов, имеющих итоговую оценку меньше, чем 6.0.
Исходный перечень при этом должен модифицироваться: в нем должны остаться только записи для студентов, успешно завершивших курс.

> Рекомендуемая сигнатура функции `extract_fails`:
> `std::vector<Student_info> extract_fails(std::vector<Student_info>&)`.

8. Модифицировать основную функцию программы так, чтобы после упорядоченного списка студентов с указанием итогового балла печаталась строка "Неаттестованы:", отделенная пустой строкой от предыдущего текста, а после, также отделенный пустой строкой, --- список студентов с низким итоговым баллом.

9. После отладки нового варианта программы создать коммит как вторую контрольную точку лаборатоной работы.

10. Отправить изменения в персональный репозиторий, создать запрос на слияние.


Для тестирования программы используйте команду `cmake --build build --target test`.
Для каждой записи из файла `tests/studs.txt` должен выполняется расчет итоговой оценки.


## Запуск программы

Запуск выполняется стандартным способом, из терминала, открытого в папке проекта.

Название программы (`ch06`), определено в файле проекта CMakeLists.txt

`build/ch06`


## Инструментарий для сборки проекта

1. `cmake`
1. `make`
1. `g++ (gcc)`
1. `git`


## Настройка и сборка проекта

Настройка проекта (build --- название папки для артефактов сборки, можно выбирать произвольно):

`cmake -B build`

Сборка проекта:

`cmake --build build`
