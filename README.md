# Объектно-ориентированное программирование

### Внешняя декомпозиция

>  Внимание! Исходные тексты программ могут содержать любое количество ошибок, их поиск и исправление составляют часть упражнения.

## Краткие теоретические сведения

Внутренняя декомпозиция программы приводит к определению ряда абстракций, которые используются при решении прикладных задач.
Примерами являются различные варианты вычисления итоговой оценки, компоновка сведений о студенте в единую структуру и т.п.

Содержание абстракций в едином файле исходного текста быстро приводит к избыточному росту сложности и, кроме того, затрудняет или делает невозможной совместную работу нескольких программистов.

Язык C++ поддерживает механизм **раздельной компиляции**, который позволяет делить программу на **модули** --- отдельные файлы и компилировать эти файлы независимо от остальных частей программы.

Процесс декомпозиции единой программы на модули в дальнейшем называется **внешней декомпозицией**.

Поскольку компиляция фрагмента исходного текста требует доступа, как минимум, к **объявлению** имени абстракции (функции, структуры данных, классу и т.п.), используемой в данном фрагменте, модули традиционно состоят из двух файлов: файла реализации (расширение *.cpp), и заголовочного файла (расширение *.h или *.hpp).

В файле реализации находятся определения функций, в заголовочном файле --- объявления **экспортируемых модулем фукций** (не все функции модуля могут предназначаться для "внешнего" использования).

В данной работе функции и структура данных уже определены в исходном файле `mod.cpp`.
Файлы реализации модулей создаются за счет переноса определений в файлы реализации модулей.

Дополнительно, каждый модуль снабжается заголовком (заголовочным файлом), позволяющим использовать данный модуль в качестве составной части программы.


## Задание

1. Создать три модуля: модуль вычисления медианы, модуль данных студента, модуль оценивания.
Поместить соответствующие модули в файлы `median.cpp`, `student_info.cpp` и `grade.cpp`.

2. Заполнить модули за счет переноса функций, полученных на этапе внутренней декомпозиции программы, в соответствующие файлы реализации.

3. Дополнить модули директивами включения необходимых системных заголовков.

4. Дополнить модули директивами включения заголовками модулей (файлы заголовков пока не существуют).

5. Создать заголовки модулей: файлы `median.h`, `student_info.h` и `grade.h`.
Расширение `*.h` говорит о том, что модуль использует возможности, одинаковые для языков C и C++.

6. Поместить в заголовки прототипы экспортируемых функций и определение структуры `Student_info`.

7. Дополнить заголовки модулей **охранными выражениями** (директивами препроцессора).

8. Отредактировать основной сценарий проекта: файл `CMakeLists.txt`.
В список исходных текстов внести файлы реализации модулей по аналогии с уже присутствующим основным модулем (`mod.cpp`).

9. Собрать проект, исправляя ошибки.
Добиться успешной сборки проекта.

10. Запустить тест, выполнив команду `cmake --build build --target test`.
Убедиться, что для каждой записи из файла `tests/studs.txt`, выполняется расчет итоговой оценки.


## Запуск программы

Запуск выполняется стандартным способом, из терминала, открытого в папке проекта.

Название программы (`mod`), определено в файле проекта CMakeLists.txt

`build/mod`


## Инструментарий для сборки проекта

1. `cmake`
1. `make`
1. `g++ (gcc)`
1. `git`


## Настройка и сборка проекта

Настройка проекта (build --- название папки для артефактов сборки, можно выбирать произвольно):

`cmake -B build`

Сборка проекта:

`cmake --build build`
